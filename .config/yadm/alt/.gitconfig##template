# Personal Git Configuration Template
# This file is processed by yadm and creates ~/.gitconfig

[include]
    path = ~/.config/git/config

[user]
    name = {{ yadm.user | default("Your Name") }}
    email = {{ yadm.email | default("your.email@example.com") }}
{% if yadm.os == "Darwin" %}
    signingkey = ~/.ssh/id_ed25519.pub
{% elif yadm.os == "Linux" %}  
    signingkey = ~/.ssh/id_ed25519.pub
{% endif %}

[gpg]
{% if yadm.os == "Darwin" %}
    ssh.allowedSignersFile = ~/.config/git/allowed_signers
{% elif yadm.os == "Linux" %}
    ssh.allowedSignersFile = ~/.config/git/allowed_signers
{% endif %}

# Security tools
[init]
    templateDir = ~/.git-templates/git-secrets

# OS-specific configurations
{% if yadm.os == "Darwin" %}
[credential]
    helper = osxkeychain
{% elif yadm.os == "Linux" %}
[credential]
    helper = store
{% endif %}