# Sheldon plugin configuration
# https://sheldon.cli.rs/

shell = "zsh"

# Templates
[templates]
defer = "{% for file in files %}zsh-defer source \"{{ file }}\"\n{% endfor %}"

[plugins]

# =============================================================================
# Core
# =============================================================================

# Deferred loading support
[plugins.zsh-defer]
github = "romkatv/zsh-defer"

# =============================================================================
# Completions
# =============================================================================

[plugins.zsh-completions]
github = "zsh-users/zsh-completions"
dir = "src"
apply = ["fpath"]

[plugins.brew-completions]
inline = 'if command -v brew &>/dev/null; then FPATH="$(brew --prefix)/share/zsh/site-functions:${FPATH}"; fi'

# =============================================================================
# Local configurations
# =============================================================================

[plugins.options]
local = "~/.config/zsh/plugins"
use = ["options.zsh"]

[plugins.completion-styles]
local = "~/.config/zsh/plugins"
use = ["completion.zsh"]

[plugins.prompt]
local = "~/.config/zsh/plugins"
use = ["prompt.zsh"]

# =============================================================================
# Interactive enhancements
# =============================================================================

[plugins.zsh-abbr]
github = "olets/zsh-abbr"
apply = ["defer"]

[plugins.zsh-syntax-highlighting]
github = "zsh-users/zsh-syntax-highlighting"
apply = ["defer"]

[plugins.zsh-autosuggestions]
github = "zsh-users/zsh-autosuggestions"
apply = ["defer"]

[plugins.fzf-tab]
github = "Aloxaf/fzf-tab"
apply = ["defer"]

[plugins.fzf-tab-config]
local = "~/.config/zsh/plugins"
use = ["fzf-tab.zsh"]
apply = ["defer"]

# =============================================================================
# Tool integrations
# =============================================================================

[plugins.direnv]
inline = 'command -v direnv &>/dev/null && eval "$(direnv hook zsh)"'

# =============================================================================
# Machine-specific
# =============================================================================

[plugins.local]
local = "~/.config/zsh"
use = ["local.zsh"]
apply = ["defer"]