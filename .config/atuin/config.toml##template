# Atuin configuration
# https://docs.atuin.sh/configuration/config/

## Sync configuration
{% if yadm.class == "work" %}
# Work: sync more frequently for collaboration
sync_frequency = "5m"
{% else %}
# sync_frequency = "1h"
{% endif %}
# sync_address = "https://api.atuin.sh"

## Search configuration
search_mode = "fuzzy"    # exact, prefix, fulltext, fuzzy
{% if yadm.class == "work" %}
# Work: default to session filter for privacy
filter_mode = "session"   # global, host, session, directory
{% else %}
filter_mode = "global"   # global, host, session, directory
{% endif %}
filter_mode_shell_up_key_binding = "session"
show_preview = true
invert = false
exit_mode = "return-query"

## Style
style = "auto"          # full, compact, auto

## History settings
{% if yadm.class == "work" %}
# Work: keep less history for security
max_history_length = 5000
{% else %}
max_history_length = 10000
{% endif %}
history_filter = [
    "^ls",
    "^cd",
    "^pwd",
    "^exit",
    "^history",
    "^clear",
]

## Behavior
enter_accept = true
secrets_filter = true
show_help = false

## Key bindings (for reference - set in shell config)
# ctrl-r : history search
# up-arrow: filter by session